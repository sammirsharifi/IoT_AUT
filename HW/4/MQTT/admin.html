<html>
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="config.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mqtt/4.0.1/mqtt.min.js"></script>
  <script>
  let url = "wss://e37872fcff474802ab10e499e46d04c8.s1.eu.hivemq.cloud";


  const client  = mqtt.connect(url, options)


client.on('error', function (err) {
  console.log(err)
  client.end()
})

client.on('connect', function () {
  console.log('server connected:' + clientId)
  client.publish('topic1', 'wss secure connection ', { qos: 0, retain: false })
  client.publish('topic2', 'wss secure connection ', { qos: 0, retain: false })
  client.publish('topic3', 'wss secure connection ', { qos: 0, retain: false })
})

  // Button click event handler

   $(document).ready(function() {
      $('#mqttButton1').click(function() {
        console.log('Button clicked!');
		light_opt={
			brightness:$("#s11").val(),
			color:$("#c1").val()
		}
		str=JSON. stringify(light_opt);
		console.log(str);
		    client.publish('Light1', str);
		    client.publish('Message1', $('#s21').val());
      });
      $('#mqttButton2').click(function() {
        console.log('Button clicked!');
		light_opt={
			brightness:$("#s12").val(),
			color:$("#c2").val()
		}
		str=JSON. stringify(light_opt);
		console.log(str);
		    client.publish('Light2', str);
		    client.publish('Message2', $('#s22').val());
      });
      $('#mqttButton3').click(function() {
        console.log('Button clicked!');
		light_opt={
			brightness:$("#s13").val(),
			color:$("#c3").val()
		}
		str=JSON. stringify(light_opt);
		console.log(str);
		    client.publish('Light3', str);
		    client.publish('Message3', $('#s23').val());
      });
    });
</script>
</head>
<body>

<div class="row" style="text-align:center">
<div class="col-sm-3" ><div style="width:100%;min-height:200px;border:1px;border-style: dotted;">
<p style="padding-top:50px">changing the color of the billboard</p>
<select id="c1">
<option>red</option>
<option>green</option>
<option>blue</option>
<option>yellow</option>
</select><br /><label for="s11">brightness:</label><input id="s11" type="text" placeholder="" value="1.0"/></div>
</div>

<div class="col-sm-3">
<div style="width:100%;min-height:200px;border:1px;border-style: dotted;">
<p style="padding-top:50px">changing the Text of the billboard</p>
<br /><label for="s21">Text:</label><input id="s21" type="text" placeholder="" value="Text for the billboard"/></div>
</div>
<div class="col-sm-3">
<button id="mqttButton1" style="margin-top:50px">Send Message</button>
</div>
</div>

<div class="row" style="text-align:center">
<div class="col-sm-3" ><div style="width:100%;min-height:200px;border:1px;border-style: dotted;">
<p style="padding-top:50px">changing the color of the billboard</p>
<select id="c2">
<option>red</option>
<option>green</option>
<option>blue</option>
<option>yellow</option>
</select><br /><label for="s12">brightness:</label><input id="s12" type="text" placeholder="" value="1.0"/></div>
</div>

<div class="col-sm-3">
<div style="width:100%;min-height:200px;border:1px;border-style: dotted;">
<p style="padding-top:50px">changing the Text of the billboard</p>
<br /><label for="s22">Text:</label><input id="s22" type="text" placeholder="" value="Text for the billboard"/></div>
</div>
<div class="col-sm-3">
<button id="mqttButton2" style="margin-top:50px">Send Message</button>
</div>
</div>

<div class="row" style="text-align:center">
<div class="col-sm-3" ><div style="width:100%;min-height:200px;border:1px;border-style: dotted;">
<p style="padding-top:50px">changing the color of the billboard</p>
<select id="c3">
<option>red</option>
<option>green</option>
<option>blue</option>
<option>yellow</option>
</select><br /><label for="s13">brightness:</label><input id="s13" type="text" placeholder="" value="1.0"/></div>
</div>

<div class="col-sm-3">
<div style="width:100%;min-height:200px;border:1px;border-style: dotted;">
<p style="padding-top:50px">changing the Text of the billboard</p>
<br /><label for="s23">Text:</label><input id="s23" type="text" placeholder="" value="Text for the billboard"/></div>
</div>
<div class="col-sm-3">
<button id="mqttButton3" style="margin-top:50px">Send Message</button>
</div>
</div>
</body>
</html>
